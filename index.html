<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
  <meta charset="utf-8">
  <title>Volume Detector add pair</title>
  <link rel="stylesheet" type="text/css" href="./styles.css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
 
</head>

<body>

  <header>
    <img src="circle logo.png" alt="Logo" id="logo">
  </header>
  <main>
    <form>
      <div>  <div class="tooltip">  
        <div class="input-container"> <label for="pair">Торговая пара</label> </div>
        <span class="tooltip-text">Любой актив на Binance Spot</span></div>
        <input type="text" id="pair" name="pair" required>
      </div>

      <div> <div class="tooltip">
        <div class="input-container">  <label for="timeframe">Таймфрейм</label> </div>
        <span class="tooltip-text">Любой стандартный (от 1s до 1M) таймфрейм на Binance Spot </span></div>
        <input type="text" id="timeframe" name="timeframe" required>
      </div>

      <div class="slider-container"> <div class="tooltip">
        <div class="input-container">   <label for="longMA-value">Длинная MA</label> </div>
        <span class="tooltip-text">Количество свечей для расчёта средней скользящей </span></div>
        <input type="range" min="0" max="500" value="50" id="longMA-slider">
        <input type="number" id="longMA-value" , value=50 class="slider-value" min="1" max="500">
      </div>

      <div class="slider-container"> <div class="tooltip">
        <div class="input-container">  <label for="shortMA-value">Короткая MA</label> </div>
        <span class="tooltip-text">Количество свечей для расчёта средней скользящей </span></div>
        <input type="range" min="0" max="500" value="50" id="shortMA-slider">
        <input type="number" id="shortMA-value", value=20 class="slider-value" min="1" max="500">
      </div>

      <div class="slider-container"> <div class="tooltip">
        <div class="input-container">   <label for="longX-value">Длинный X</label> </div>
        <span class="tooltip-text">Мультипликатор (коэффициент) для длинной средней скользящей</span></div>
        <input type="range" min="0" max="100" value="50" id="longX-slider">
        <input type="number" id="longX-value", value=2 class="slider-value" min="1" max="50">
      </div>

      <div class="slider-container">
        <div class="tooltip">
          <div class="input-container">  <label for="shortX-value">Короткий X</label> </div>
        <span class="tooltip-text">Мультипликатор (коэффициент) для короткой средней скользящей</span></div>
        <input type="range" min="0" max="100" value="50" id="shortX-slider">
        <input type="number" id="shortX-value" , value=5 class="slider-value" min="1" max="50">
      </div>
    </form>

    
     <form id="sendButton" class = "sendButton">
      <button type="submit">Создать оповещение</button>
     </form>

    

    <script>
      let telegram = window.Telegram.WebApp;
      let logo = document.getElementById('logo');
      telegram.expand()
      let submitButton = document.getElementById('sendButton');

      submitButton.addEventListener("click", () => {
        let pair = document.getElementById('pair');
        let timeframe = document.getElementById('timeframe');
        let longMA = document.getElementById('longMA-value');
        let shortMA = document.getElementById('shortMA-value');
        let longX = document.getElementById('longX-value');
        let shortX = document.getElementById('shortX-value');

        //  
        let data = {
          pair: pair.value,
          timeframe: timeframe.value,
          longMA: longMA.value,
          shortMA: shortMA.value,
          longX: longX.value,
          shortX: shortX.value,

        }

        telegram.sendData(JSON.stringify(data))

        telegram.close()
      })
    </script>
  </main>
  <footer>
   
    
  </footer>
</body>
<script src="./slider.js"></script>

</html>
